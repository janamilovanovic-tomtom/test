// Copyright (C) 2018 TomTom NV. All rights reserved.
//
// This software is the proprietary copyright of TomTom NV and its subsidiaries and may be
// used for internal evaluation purposes or commercial use strictly subject to separate
// license agreement between you and TomTom NV. If you are the licensee, you are only permitted
// to use this software in accordance with the terms of your license agreement. If you are
// not the licensee, you are not authorized to use this software in any manner and should
// immediately return or destroy it.

= Roundabout entry containing plural junctions and complex intersections

== Status

Implemented

== Context

It is possible that roundabout entry arcs contain plural junctions and complex intersections. When this is the case, these arcs are handled by ComplexIntersectionHandler and the RoundaboutHandler is not triggered because once ComplexIntersectionHandler execution is done, we have already entered the roundabout.

== Decision

RoundaboutHandler checks for possible plural junctions at the roundabout entry. If these exist, we iterate over them to find the entrance of the roundabout. Since RoundaboutHandler has priority over ComplexIntersectionHandler, correct instruction is generated.

== Consequences

* Situations where roundabout entry arcs contain plural junctions and complex intersections (https://jira.tomtomgroup.com/browse/NAV-20591) are handled properly.
